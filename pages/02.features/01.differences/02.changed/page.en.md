---
title: Evolved features
menu: Evolved features
template: jaxon
---

##### Namespaces

All classes of the [jaxon-core](https://github.com/jaxon-php/jaxon-core) package are now in the `Jaxon` namespace. The main class is a singleton, and the unique instance is returned by the `Jaxon::getInstance()` method. The URI that was passed to the class constructor in the previous version must now be defined with the `core.request.uri` configuration. So this is how to start a Jaxon application.
```php
use Jaxon\Jaxon;

$jaxon = Jaxon::getInstance();
$jaxon->setOption('core.request.uri', $uri);
```

##### Constants

The constants have been renamed and are now all set in the main `Jaxon` class. The new name of the constant is obtained by replacing the prefix `XAJAX_` by class name `Jaxon::`, as in the following example.
```php
$jaxon->register(Jaxon::CALLABLE_OBJECT, $myObject); // In current version
$jaxon->register(XAJAX_CALLABLE_OBJECT, $myObject); // In previous version
```
As exceptions to this rule, the constants `XAJAX_FUNCTION` becomes `Jaxon::USER_FUNCTION` and `XAJAX_EVENT` becomes `Jaxon::BROWSER_EVENT`.
The constant `XAJAX_DEFAULT_CHAR_ENCODING` no longer exists; the configuration option `core.encoding` must be used instead.

##### Javascript code generation

The function `$jaxon->getJavascript()` which returns the javascript code generated by the library has been separated into three distinct functions:

* The function `$jaxon->getCss()` returns the code which includes external CSS files.
* The function `$jaxon->getJs()` returns the code which includes external javascript files.
* The function `$jaxon->getScript()` returns the javascript code generated for exported classes and functions.

This separation exists because these codes can be inserted into different parts of the HTML page.
However, by calling `$jaxon->getScript(true, true)`, we obtain the cumulative output of these three functions.

##### Configuration options

The configuration functions and options of the Jaxon library have been renamed. A call to `$jaxon->setOption($name, $value)` is now needed to update an option, while a call to `$jaxon->getOption($name)` returns the value of an option. These two functions take the new option names as parameter.

The `$jaxon->configure($name, $value)` and `$jaxon->getConfiguration($name)` functions can still be used with the old names of options, but they are deprecated and will be removed in a future release.

The following table shows the correspondence between the old and new names of options.

| Previous | Current | Comment     |
|----------|---------|-------------|
| language                     | core.language              | |
| version                      | core.version               | |
| characterEncoding            | core.encoding              | |
| decodeUTF8Input              | core.decode_utf8           | |
| | | |
| requestURI                   | core.request.uri           | |
| defaultMode                  | core.request.mode          | |
| defaultMethod                | core.request.method        | |
| | | |
| wrapperPrefix                | core.prefix.function       | A former option is covered by two new |
| wrapperPrefix                | core.prefix.class          | A former option is covered by two new |
| eventPrefix                  | core.prefix.event          | |
| | | |
| responseType                 | **deprecated**             | The response type is always JSON |
| contentType                  | **deprecated**             | The content type is always JSON |
| outputEntities               | **deprecated**             | |
| | | |
| cleanBuffer                  | core.process.clean_buffer  | |
| exitAllowed                  | core.process.exit_after    | |
| timeout                      | core.process.timeout       | |
| | | |
| errorHandler                 | core.error.handle          | |
| logFile                      | core.error.log_file        | |
| | | |
| debug                        | core.debug.on              | |
| verboseDebug                 | core.debug.verbose         | |
| | | |
| debugOutputID                | js.lib.output_id           | |
| responseQueueSize            | js.lib.queue_size          | |
| scriptLoadTimeout            | js.lib.load_timeout        | |
| waitCursor                   | js.lib.show_cursor         | |
| statusMessages               | js.lib.show_status         | |
| javascript URI               | js.lib.uri                 | A former option is covered by two new |
| javascript URI               | js.app.uri                 | A former option is covered by two new |
| javascript Dir               | js.app.dir                 | |
| deferDirectory               | js.app.dir                 | |
| javascript files             | **deprecated**             | |
| useUncompressedScripts       | **deprecated**             | |
| deferScriptGeneration        | js.app.export              | A former option is covered by two new |
| deferScriptGeneration        | js.app.minify              | A former option is covered by two new |
| scriptDefferal               | js.app.options             | |
| | | |
| deferScriptValidateHash      | **deprecated**             | |
| | | |
